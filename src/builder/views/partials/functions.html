<div id="functions">
	<h2>Functions ({{functionCount}})</h2>

	{% for currentGroup in groups %}
		{% set functions = currentGroup.functions %}

		<!-- <div class="groupHeading">
			<h3 id="group_{{loop.index}}">
				(<a href="#groupIndex">Index</a>)
				Group: {{currentGroup.groupName}} ({{currentGroup.functions.length}})
			</h3>
		</div> -->

		{% for currentFunction in functions %}

			<div class="function" id="{{currentFunction.name}}">
				<h3 class="name">{{currentFunction.name}}</h3>

				{% if (currentFunction.renditions.length) %}

					{% set anyChecked = false %}

					{% for currentRendition in currentFunction.renditions %}

						<div class="rendition">
							<div class="control">
								<input
									id="{{currentFunction.name+currentRendition.id}}"
									type="radio"
									name="{{currentFunction.name}}"
									value="{{currentRendition.id}}"

									{% if (query[currentFunction.name] == currentRendition.id) %}
										{% set anyChecked = true %}
										checked
									{% endif %}
								>
								<label for="{{currentFunction.name+currentRendition.id}}" >Rendition {{currentRendition.id}}</label>
							</div>

							{% if (currentRendition.degrades) %}

								<div class="degrades">
									<h4>Core experience only browsers</h4>
									<p>{{currentRendition.degrades}}</p>
								</div>
							{% endif %}
							<div class="description">{{currentRendition.description|markdown}}</div>
							<div class="code">
								<pre><code>{{currentRendition.contents}}</code></pre>
							</div>
							<p class="seeAlso">{{currentRendition.seeAlso}}</p>
						</div>
					{% endfor %}
					<div class="none">
						<div class="control">
							<input
								type="radio"
								id="{{currentFunction.name}}_none"
								name="{{currentFunction.name}}"
								value=""
								{% if (!anyChecked) %}
									checked
								{% endif %}
							>
							<label for="{{currentFunction.name}}_none">I don't want this function</label>
						</div>
					</div>
				{% endif %}
			</div>
		{% endfor %}
	{% endfor %}
</div>